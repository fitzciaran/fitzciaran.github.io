pilot select should be one image and click through options
    should be able to select color and....other stuff?..maybe have an image of the ship on intro scene to click.. or arrows.
    .or a Color: section on intro that randomly choose something on game load, doesn't look like you click to change it but you can.
    maybe other easter eggs where if you keep clicking something that does something little and occasionally reacts to having been clicked a lot, finally does something like boosts stats. (or nerfs them) 
powerups shouldn't spawn too close to ships (not super important for now)

start building test suite for this project
shooting stars effect in the background
gravity black hole - reappear warp
powerups and black holes disappear after time, blinking out at the end.
moving powerUps

lobby selection
    simple lobby system could just be selecting from a list of lobbies and that sets which array of id's you use - from there it works the same p2p as now

1 player mode select?

specials... invicible?, drop mines, get bigger?

char select effects/ design
music
sound effects

invince ships could be bigger?
    can we easily scale the drawing? and of course the text around the ship would need scaling too... and not sure it's a good feature...

shrinking level - could be all around or could be left to right to require progress

some kind of share option - a la wordle 

different types of enemies/powerups, moving.
    some kind of object we collide with. So far either kill, get killed, or it's the world boundary, harder to deal with a collision
     first an unmovable wall.... then an object that would bounce... if we have bouncing then the ships could bounce off each other... back to sumo style...would need better hitbox for ships I think.        
        basic carfootball style game?
PvE?
general racing 
    like this - power up could be speed boost, or have separate boosts and power ups are mk style
    drafting mechanic?
    "jumps?" - in air would need drawing effect, and could then not interact with entities and future objects like walls while "airborn" though what that mean in space idk... setting could change 
    lap records
    weekly/all time leaderboards

    gates
procedural level generation?


some kind of starting state whether for ^ or other

new challenger approaches when connect to someone
some kind of run game with the mouse / ship mechanic/physics we have
sumo mechanic? - with static kill obstacles? or just for non star interactions?
how to p2p with run style game

on screen arrow to direct to offscreen opponents
    could be useful feature for "bounty" event or other key collectable event 
    
maybe always provide thrust at low level -

master could send connection list in full update? -not seen an issue with mismatched connections in a long time though

need to introduce the idea of ongoing game so lose state for one is only local for them
maybe you lose health as time goes by and you have to keep up with picking up power ups to restore?

some visual effect when ships hit
draw shadows
leader mark drawn - bonus for killing
way to attack without getting hurt - maybe speed/angle - maybe states - pacman style? mario star style?
     - maybe when collected a few normal power ups? maybe they fill a guage which drains slowly which thrusting
    - this would become the way mainly score
make ships much bigger
Compete for large moving powerups, possibly in addition to the star mario/pac man state
maybe also moving large obstacles (non-lethal?) pushing? and lethal.
level ups? more gauges?
worldDimensions maybe don't let Player know about this an have to always pass in a parameter to methods?
camera shake

bots should "run" from players with invicible time?

faster when star??

display combo multiplier in ui (when above 1)?

update "powerups" verbage to "score" throughout

include kills tracking in leaderboard/score report?

notion of lives 3,2,1 GO if hit and have lives left - animation showing life icon being removed.

- unique messaging if killed by multiple times? rival?

background on name entry like on the leaderboards/lore
refactor box drawing?

consider better options for right click. 
     -warp? why? escape?

another, closer, "inRangeticks variable for botstate?
r2d2 sound for bumble boost?
seems too random to get hit, no prolonged engagement either get hit or don't and not engaged anymore...
2nd (3rd, 4th) state for after something.. is collectively achieved, opens worm hole etc, opens part of the edge .. boss?

instead/as well as power ups we have gates.... which maybe are also portals?.. randomly?
gates could be curated or intelligently generated in sets to allow for mini circuits/building up flowgates could blinks before for "gate" I'm thinking   |----|     so 2 lines marking the frame and a 'large" opening you go through in a particular direction (2 choices of direction, but could have directional ones.)

idea of a crash? hitting a gate  edge too fast? need to at least deal with collision... unless hitting edge kills always
faster you go through a gate the more points/ more stuff?

speed being a factor in normal kills? your velocity or relative impact velocity? could give more points/star time for fast, or too slow might not kill?

as combo (or some kinda of gate combo) builds could enter state of more difficult generated gate patterns.

notion of health?health could decrease and gating could increase, like arcade checkpoint race system
    maybe not health but a TIMEOUT, so still death as before, but an extra death condition.

botstate to try to traverse the gates

safe starting/respawning area? forcefielded off?
separate p2p connection and db connection

name? space.io? 

bot could consider bouncing off the wall as means to quickly boost towards the center - should be a late implementation since walls may go and would be a very specific implementation
    -maybe not too tricky, check if close to a wall and if target is perpendiulatly far from the wall and momentum perpendicual component of velocity is towards the wall and would be a good candiate to head to wall.
    
issue where sometimes old connections get joined to and if they have a low id they will be master but not send anything(since they're closed) can I somehow close these?

as the bots get better I'll need to add in some more flaws. 
   maybe they set course less frequently, and a a distance set an inaccurate target
   variable for last course correction perhaps and use that and distance from taget to decide whether to adjust or hold.
   maybe hold course for just a moment after getting power up for example
   while no thrust
   could use boost when far and chasing

maybe star drains slower if no throttle at all.

more pilot stats e.g. 
    speed,boost speed, invicible time,push/pull strength


sometimes non-master can not get credited for powerup collection or double collected, done a work on this, but still need more, it's not common now. (even when connection seems good otherwise)

apply less pull if they are star?
drain their force power if in the pull range? sepearate special "drain" could just take points, or also drain invic, maybe drain "power" which would nerf speed for a time

collision should be based on actual hitbox, 
bot targeting could be based on distance - if the bot "sees" a target it will go for it.... periodically could check it's "sight"
    could/should the facing direction be factored into this?

move powerups to entity
    move collision to general entity check with onColide function(method?) to run.

build charge if still? or if press/hold a charge button?
    inv power?
    a boost charge?

a brake?
a control style switch? (follow mouse?)

circles you have to stop in / stay in for x seconds for ... something? power up? charging in there?
mines need to spawn away from ships and ships need to spawn away from mines

for fast speeds might need to calculate movement in half or quater frames to check for collision.

might have to rethink the force having a reference to tracks player

player property for still in initial setup?

credit "pushed" kills?

if implement full hitboxes could have the front bit be invincible.

give bots specials and make them use them on defense / offence

deal with non-master drawing of forces (interpolate like with players should do it)

Be more selective about what data send? currently sending everything for bots/forces and not using everything, could speed up data transfer.

//gotHit and addScore are both doing an additional key function of sending the playerstates as master. 
//Need to unpick this, maybe there should be events for gotHit and addscore and masterpeer responds to such events with sending player state for the given player

only need to draw if drawing would be onscreen! How is this optimised by default?

if make directional forces bigger after creation need to reset numberArrowsEachSide so it's recalculated -could just create new force instead- have to be careful about overlapping times?

  bots detect if stuck on forces?  done
    advanced: use predicted forces to determine where should aim based on forces ahead

direction forcepads should not spawn too close to a wall if facing that wall

general collision visual effect (sound later)
    just write "BOOM!" for now? mix it up with "CRASH!!"

should remove/move boost / forcepads after a time... maybe just give them an actual expiry?

speicals should pull / push mines/powerups?
    could only pull powerups but they pull quite slowly?

should "combo score" shown be the total score throughout the combo?
    differnt sound effect for extent of score in combo.. probably not.



add favicon.ico to source

still sometimes get a blank "killed by" .. could at least put ??? to cover case?.. or make sure not to inlcude "killed by" line

scores of the week?(last 7 days?)
    All time scores?

other unique properties for pilots?size? 
  
completely different graphic for star/invic timer?.

some kind of background warping / blurring for the point gravity wells

screenshake

character whose special changes between all the specials

force refresh if fall behind in execution time?

way to throw away peerjs messages?
    have timestamps, but when message fell behind they never caught up, might be worth reenabling now I've cut down on message load.

spawn position check that itterates through all current objects and gives space (could just keep rerolling rng until a valid spot? should be fine as long as there's more valid spots than invalid)

check getting hit by idle/left (and non drawn otherplayer) check general connection

maybe point forces should have very strong grav right at center...but dont to make slingshot worse.. maybe an actual pos move when near center?

keep track of a list of names that you killed and killed by for flavor text when die and for...

if new player joins and becomes master it takes over the gamestate - bots, mines,powerups,forcepads... 
    ideally it first takes the current masters state before taking over...not sure how to work that though... 

in transition of master collision detection allows multiple collections...
cover the master switching with some kind of in game lore event / effect? storm activating or something? No interactions during the "event" when event is done could push startStorm and frameOfStorm, so all could finish at the same time

send only changed data in standard master send, new slave peers need to request full update

known camera follow bug if no bots alive and spectating (could )

pilots portrait while in game? with powerup icon?
    could animate like the old carmageddon

make the score / combo text bigger and more obnoxious, whoosh at screen?

mines/...stuff could randomly/sporadically change color

accept master updates only if agree it's from master (add sending id to payload)
add a "request full update" payload for when set new master peer. have master peer handle that and limit how frequently it sends those out, since many peers could request that in quick succession, perhaps exponential backoff on subsequent sends.
maybe have basic player updates include who they consider master peer? could be used to trigger choosenewmaster

ensure unique id's for entities

sometimes can get into game without name set (think without pilot set too?)

blocking troll error screen overlay if "specs too low"

once connections are more optimized revisit the position easing, could be better less or more. THink the occasional brief flickering across screen might be to do with that.
    could make it ease only the final few pixels.

might be able to try ignoring old messages again once optimised

i think sometimes the invic loss from a mine/other collision might get synced away for slave peers.
 guessing sometimes the timing works out so they send their invic value to the master and the master accepts it
wards skipping on standard regular updates


 the game somewhat encourages clicks near the edge of the window - annoying, expecially when uses don't know/understand they should bounce off it. Do I need more of a border?

 could have enemy spawning in over player, tracks until a certain time at which point it could stop or have limited movement speed, could use extract bot ai?
    could be like an astroid or something (finally using astroids)

    follow "killed by" first - may need to have a non player local game var for keeping track of that

sometimes collision can just effect one of the players, possible property override idk

rocket/flame thrust indicator (with size tied to force size - including special) particles left behind.

 "set piece" combninations of mines,forces, powerups etc
    implement more valuable powerups within these curations

random events - angle lock, offset angle- could 180 could be just a weird amount,engine stuck on, slower,faster, special stuck on, bounty, long inincible time
    special event camera messes up in various ways, are screenshake.. which maybe is just a camera thing?

game replay.. what would we need to maintain in gamestate to be able to replay